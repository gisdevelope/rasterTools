<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Build a look-up-table (catalog) — catalog • rasterTools</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Build a look-up-table (catalog) — catalog" />

<meta property="og:description" content="catalog aims to make working with a wide variety of complex names
simpler. Complex terms such as species, territorial units, expriment names,
... are related to systematic abbreviations thereof." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rasterTools</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.6.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/introduction.html">Intro and Examples</a>
    </li>
    <li>
      <a href="../articles/landscape_metrics.html">Landscape metrics</a>
    </li>
    <li>
      <a href="../articles/contribute.html">Best practices to contribute</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Glossary
  </a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../articles/recipes.html">
    <span class="far fa far fa-list-alt"></span>
     
    Use cases
  </a>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    News
  </a>
</li>
<li>
  <a href="https://github.com/EhrmannS/rastertools">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Build a look-up-table (catalog)</h1>
    <small class="dont-index">Source: <a href='https://github.com/EhrmannS/rastertools/blob/master/R/catalog.R'><code>R/catalog.R</code></a></small>
    <div class="hidden name"><code>catalog.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p><code>catalog</code> aims to make working with a wide variety of complex names
simpler. Complex terms such as species, territorial units, expriment names,
... are related to systematic abbreviations thereof.</p>
    
    </div>

    <pre class="usage"><span class='fu'>catalog</span>(<span class='kw'>path</span> <span class='kw'>=</span> <span class='st'>"."</span>, <span class='kw'>abbreviateBy</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>recursive</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>inclType</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>silent</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>path</th>
      <td><p>[<code>character(1)</code>]<br /> the path to a folder that contains files
for which you want to build a catalog.</p></td>
    </tr>
    <tr>
      <th>abbreviateBy</th>
      <td><p>[<code>function</code>]<br /> to translate the original names to
abbreviations thereof; see Examples.</p></td>
    </tr>
    <tr>
      <th>type</th>
      <td><p>[<code>character(1)</code>]<br /> the file type for which should be
filtered.</p></td>
    </tr>
    <tr>
      <th>recursive</th>
      <td><p>[<code>logical(1)</code>]<br /> should the listing recurse into sub
directories (<code>TRUE</code>) or should only the specified directory be
searched (<code>FALSE</code>, default)?</p></td>
    </tr>
    <tr>
      <th>inclType</th>
      <td><p>[<code>logical(1)</code>]<br /> should the file-extension be included
in the recorded original names (<code>TRUE</code>), or should the file name be
included without extension (<code>FALSE</code>, default)?</p></td>
    </tr>
    <tr>
      <th>silent</th>
      <td><p>[<code>logical(1)</code>]<br /> should all messages but errors be
suppressed (<code>TRUE</code>), or should all messages be printed (<code>FALSE</code>,
default)?</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code>data.frame</code> with a column of original names and of the
  associated abreviations.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Often data-files come with complicated names, characterising in
  large detail the content. For a quick workflow, this is often a hindrance
  and not required, because a shorter yet systematic name can also
  sufficiently reference files. Typical examples would be:</p><ul>
<li><p>three or four-letter code for species (apo_fla, myo_gla, ...).</p></li>
<li><p>two-letter NUTS code of territorial units (EE, DE, ...).</p></li>
<li><p>a short name
  of some repeated experiment, originally labelled by
  date_region_researcher_treatment_etc (S11, S12, ...).</p></li>
<li><p>...</p></li>
</ul><p>If you
  want to work with a relatively large amount of such files on our hard
  drive, it would be desirable to have some sort of index available, which
  makes it possible to readily access everything without having to load it to
  the global environment beforehand. This function tries to help here, by
  iteratively going through all directories which are specified in
  <code>path</code>, registering the files (incl. <code>path</code>) of the specified
  <code>type</code> and deriving a name based on the function defined in
  <code>abbreviateBy</code>. These information are stored in the <code>data.frame</code>
  <code>myCatalog</code> in the gloabl environment so that the objects in
  <code>path</code> can be quickly loaded by referring to their abbreviations.</p>
<p>The recorded original names are internally saved as character vector with
  the name <code>files</code> and <code>i</code> is used as iterator through its
  elements. The only limitation for this function hence is that the
  abbreviation must be some derivative of the original filenames, employing
  character manipulation functions such as <code>substr</code>,
  <code>strsplit</code>, <code>toupper</code>, <code>paste0</code> or any
  other.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='loadData.html'>loadData</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='co'># build a catalog for all species for which there are maps in the 'Atlas of</span>
<span class='co'># European mammals'</span>

<span class='co'># 1. create character variable which corresponds to your file names</span>
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='st'>"Vulpes vulpes.svg"</span>

<span class='co'># 2. combine with character manipulation functions until the pattern matches</span>
<span class='fu'>strsplit</span>(<span class='no'>x</span>, <span class='st'>' '</span>)
<span class='fu'>unlist</span>(<span class='fu'>strsplit</span>(<span class='no'>x</span>, <span class='st'>' '</span>))
<span class='fu'>substr</span>(<span class='fu'>unlist</span>(<span class='fu'>strsplit</span>(<span class='no'>x</span>, <span class='st'>' '</span>)), <span class='fl'>1</span>, <span class='fl'>3</span>)
<span class='fu'>paste</span>(<span class='fu'>substr</span>(<span class='fu'>unlist</span>(<span class='fu'>strsplit</span>(<span class='no'>x</span>, <span class='st'>' '</span>)), <span class='fl'>1</span>, <span class='fl'>3</span>), <span class='kw'>collapse</span> <span class='kw'>=</span> <span class='st'>'_'</span>)
<span class='fu'>tolower</span>(<span class='fu'>paste</span>(<span class='fu'>substr</span>(<span class='fu'>unlist</span>(<span class='fu'>strsplit</span>(<span class='no'>x</span>, <span class='st'>' '</span>)), <span class='fl'>1</span>, <span class='fl'>3</span>), <span class='kw'>collapse</span> <span class='kw'>=</span> <span class='st'>'_'</span>))

<span class='co'># 3. turn this into a function and use as value in abbreviateBy.</span>
<span class='no'>abbr_species</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>x</span>){
  <span class='fu'>tolower</span>(<span class='fu'>paste</span>(<span class='fu'>substr</span>(<span class='fu'>unlist</span>(<span class='fu'>strsplit</span>(<span class='no'>x</span>, <span class='st'>' '</span>)), <span class='fl'>1</span>, <span class='fl'>3</span>), <span class='kw'>collapse</span> <span class='kw'>=</span> <span class='st'>'_'</span>))
}

<span class='fu'>require</span>(<span class='no'>magrittr</span>)
<span class='fu'>catalog</span>(<span class='kw'>path</span> <span class='kw'>=</span> <span class='no'>rtPaths</span>$<span class='no'>emma</span>$<span class='no'>local</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>'svg'</span>, <span class='kw'>inclType</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
    <span class='kw'>abbreviateBy</span> <span class='kw'>=</span> <span class='no'>abbr_species</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'>subset</span>(<span class='no'>abbr</span> <span class='kw'>%in%</span> <span class='fu'>c</span>(<span class='st'>"apo_agr"</span>, <span class='st'>"apo_fla"</span>, <span class='st'>"vul_vul"</span>))
<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://orcid.org/0000-0002-2958-0796'>Steffen Ehrmann</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

