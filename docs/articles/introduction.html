<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>rasterTools - Introduction • rasterTools</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="rasterTools - Introduction">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rasterTools</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/introduction.html">Intro and Examples</a>
    </li>
    <li>
      <a href="../articles/landscape_metrics.html">Landscape metrics</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Glossary
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../articles/usecases.html">
    <span class="far fa far fa-list-alt"></span>
     
    Use cases
  </a>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    News
  </a>
</li>
<li>
  <a href="https://github.com/EhrmannS/rastertools">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>rasterTools - Introduction</h1>
                        <h4 class="author">Steffen Ehrmann</h4>
            
            <h4 class="date">2018-11-02</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/EhrmannS/rasterTools/blob/master/vignettes/introduction.Rmd"><code>vignettes/introduction.Rmd</code></a></small>
      <div class="hidden name"><code>introduction.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>You might find <code>rasterTools</code> useful when your work depends in one way or the other on earth observation data <span class="citation">(Bush et al. <a href="#ref-bush_connecting_2017">2017</a>)</span>. This may be for simulating spatial patterns, building species distribution models or analysing and measuring spatial patterns/landscape features.</p>
<p><code>rasterTools</code> does NOT intend to replace <code>raster</code> <span class="citation">(Hijmans <a href="#ref-hijmans_raster_2017">2017</a>)</span> but tries to present an additional workflow that is aimed at being more transparent and reproducible and easily accessible. Many of the typical steps in working with raster data are summarised into <em>operators</em> (functions that carry out a specific spatial operation) and are grouped according to the group of tasks. In <code>rasterTools</code> the four functions <code><a href="../reference/obtain.html">obtain()</a></code>, <code><a href="../reference/generate.html">generate()</a></code>, <code><a href="../reference/modify.html">modify()</a></code> and <code><a href="../reference/measure.html">measure()</a></code> represent the major tasks of spatial operations. <code>rasterTools</code> has been conceptualised so that these core functions are modular. Each of these functions manages all the code-logic that is common for the task at hand, e.g. to obtain datasets. More specific code that manages, for instance, “loading the MODIS dataset” is oursourced to a seperate function (the <code><a href="../reference/oMODIS.html">oMODIS()</a></code> operator). New operators to all the core functions and to <code><a href="../reference/loadData.html">loadData()</a></code> can hence be devised easily.</p>
<p>Several operators are combined to <em>algorithms</em> to carry out (a sequence of) more complex spatial operations. Operators are scope specific, i.e. they are typically only called in their respective core function. An algorithm in <code>rasterTools</code> is given as list of lists.</p>
<pre><code>algo_name &lt;- list(list(operator1),
                  list(operator2))
                  </code></pre>
<p>Each operator represents a <code>do.call()</code> compliant definition (type <code>?do.call</code> into the console to learn about it).</p>
<pre><code>do.call(what, args, quote = FALSE, envir = parent.frame())</code></pre>
<p>Which translates to</p>
<pre><code>algo_name &lt;- list(operator1 = list(what, args),
                  operator2 = list(what, args))</code></pre>
<p>Its first element <code>what = operator_name</code> would outline the name of the function utilized in this operator (such as <code>"oMODIS"</code> or <code>"oCLC"</code>). Its second element (<code>args</code>) can have any number of arguments required to put together the call (such as <code>product = "MOD17A3", layer = 2, period = c(2012, 2014)</code> or simply <code>period = 2006</code>).</p>
<pre><code>datasets &lt;- list(list(operator = "oCLC", period = 2006),
                 list(operator = "oGFC", period = c(2005:2007)))</code></pre>
<p>This modularity is one of the strong sides of <code>rasterTools</code>. It allows the user to write their own operator to be used in the respective core-function. An example would be a dataset that is not yet supported by <code>rasterTools</code>, to utilize a modification which is not yet included in this package or to develop new landscape metrics. All of this can easily and seamlessly be combined with the previously defined operators in the same, simple workflow.</p>
<div id="a-new-spatial-class-geom" class="section level2">
<h2 class="hasAnchor">
<a href="#a-new-spatial-class-geom" class="anchor"></a>A new (spatial) class: <code>geom</code>
</h2>
<p><code>rasterTools</code> comes with its own (spatial) S4 class. This class is radically simplified (even in comparison to <code>sf</code>) and thus consists only of the feature classes <code>point</code>, <code>line</code> and <code>polygon</code>. It does, however, come with many functions that create specific types of lines or polygons, for instance <code><a href="../reference/geomPolygon.html">geomHexagon()</a></code>, which creates exclusively hexagonal polygon geometries.</p>
<p>These geometries are deliberately per default not <em>spatial</em> in nature and do also work within an ordinary cartesian coordinate system. They can be transformed into a spatial object by assigning a <em>coordinate reference system</em>. We learn a lot about them by simply creating and plotting one:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw">library</span>(raster)</a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="co">#&gt; Loading required package: sp</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="kw">library</span>(rasterTools)</a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="co">#&gt; Hi, I am rasterTools 0.6 and I help you organise and compute spatial data!</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="co">#&gt; I don't know where your files are stored, please see '?setPaths' to create a suitable index.</span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"></a>
<a class="sourceLine" id="cb5-7" data-line-number="7">coords &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="dv">40</span>, <span class="dv">70</span>, <span class="dv">70</span>, <span class="dv">50</span>),</a>
<a class="sourceLine" id="cb5-8" data-line-number="8">                     <span class="dt">y =</span> <span class="kw">c</span>(<span class="dv">40</span>, <span class="dv">40</span>, <span class="dv">60</span>, <span class="dv">70</span>),</a>
<a class="sourceLine" id="cb5-9" data-line-number="9">                     <span class="dt">id =</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb5-10" data-line-number="10">window &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">80</span>),</a>
<a class="sourceLine" id="cb5-11" data-line-number="11">                     <span class="dt">y =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">80</span>))</a>
<a class="sourceLine" id="cb5-12" data-line-number="12">(aGeom &lt;-<span class="st"> </span><span class="kw"><a href="../reference/geomPolygon.html">geomPolygon</a></span>(<span class="dt">anchor =</span> coords, <span class="dt">window =</span> window, <span class="dt">show =</span> <span class="ot">TRUE</span>))</a></code></pre></div>
<p><img src="introduction_files/figure-html/unnamed-chunk-1-1.png" width="700"></p>
<pre><code>#&gt; class      : geom
#&gt; type       : polygon
#&gt; features   : 1  (4 vertices)
#&gt; window     : 0, 80, 0, 80  (xmin, xmax, ymin, ymax)
#&gt; extent     : 40, 70, 40, 70  (xmin, xmax, ymin, ymax)
#&gt; scale      : absolute
#&gt; crs        : NA
#&gt; attributes : 2  (fid, n)</code></pre>
<p>The main feature of this sort of “spatial” class is that it can be created relatively simply by providing a set of coordinates as socalled anchor values. It has a new slot, <code>window</code>, which defines the frame within which it would be plotted. A wide range of “getters” and “setters” (for example <code><a href="../reference/getExtent.html">getExtent()</a></code> or <code><a href="../reference/setCRS.html">setCRS()</a></code>) have been defined as methods for <code>geom</code> and other spatial classes, in the latter case they are mostly a simple wrapper of the original <code>raster</code>, <code>sp</code> or <code>sf</code> funciton. The foreign methods have been defined for the sake of internal consistency and simplification.</p>
<p>Additionally, several “tools” to modify the <code>geom</code> vertices and to transform the <code>geom</code> to and from other spatial classes have been programmed (for example <code><a href="../reference/gRotate.html">gRotate()</a></code> or <code><a href="../reference/gToSp.html">gToSp()</a></code>) and this will be extended in the future.</p>
</div>
</div>
<div id="example-workflow" class="section level1">
<h1 class="hasAnchor">
<a href="#example-workflow" class="anchor"></a>Example workflow</h1>
<p>In the following you will find an example for each of the core functions.</p>
<p><code>rasterTools</code> may write large files to your harddisc and you should assign a specific directory on a storage medium that has sufficient space via <code>updatePaths(root = "/path/to/the/spatial/files")</code>.</p>
<div id="generate-spatial-patterns" class="section level2">
<h2 class="hasAnchor">
<a href="#generate-spatial-patterns" class="anchor"></a>Generate spatial patterns</h2>
<p><em>In the making</em></p>
</div>
<div id="obtain-spatial-datasets" class="section level2">
<h2 class="hasAnchor">
<a href="#obtain-spatial-datasets" class="anchor"></a>Obtain spatial datasets</h2>
<p>An algorithm with which one would obtain information from various spatial data sets could be:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">myDatasets &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="kw">list</span>(<span class="dt">operator =</span> <span class="st">"oGFC"</span>, <span class="dt">period =</span> <span class="kw">c</span>(<span class="dv">2006</span>)),</a>
<a class="sourceLine" id="cb7-2" data-line-number="2">                   <span class="kw">list</span>(<span class="dt">operator =</span> <span class="st">"oMODIS"</span>, <span class="dt">product =</span> <span class="st">"mod17a3"</span>, <span class="dt">period =</span> <span class="dv">2006</span>,</a>
<a class="sourceLine" id="cb7-3" data-line-number="3">                        <span class="dt">layer =</span> <span class="dv">2</span>))</a></code></pre></div>
<p>Most of the different spatial datasets are available in a specific file format and may have other specific properties, which require consideration. For instance, MODIS data are stored as products with several layers within each file. Consequently the <code>product</code> and <code>layer</code> need to be specified. Each of the required arguments can be found in the respective documentation, for instance with <code><a href="../reference/oMODIS.html">?oMODIS</a></code>.</p>
<p>Typically we only need a (vastly) smaller subset of an earth observation dataset and we would want to use a rectangular mask (of the class <code>geom</code>) to outline this area of interest:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw">library</span>(magrittr)</a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="co">#&gt; Attaching package: 'magrittr'</span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="co">#&gt; The following object is masked from 'package:raster':</span></a>
<a class="sourceLine" id="cb8-5" data-line-number="5"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb8-6" data-line-number="6"><span class="co">#&gt;     extract</span></a>
<a class="sourceLine" id="cb8-7" data-line-number="7">myMask &lt;-<span class="st"> </span><span class="kw"><a href="../reference/loadData.html">loadData</a></span>(<span class="dt">files =</span> <span class="st">"aWindow.csv"</span>,</a>
<a class="sourceLine" id="cb8-8" data-line-number="8">                   <span class="dt">localPath =</span> <span class="kw">system.file</span>(<span class="st">"csv"</span>, <span class="dt">package=</span><span class="st">"rasterTools"</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-9" data-line-number="9"><span class="st">  </span><span class="kw"><a href="../reference/geomPolygon.html">geomRectangle</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-10" data-line-number="10"><span class="st">  </span><span class="kw"><a href="../reference/setCRS.html">setCRS</a></span>(<span class="dt">crs =</span> projs<span class="op">$</span>laea)</a>
<a class="sourceLine" id="cb8-11" data-line-number="11"><span class="co">#&gt; Parsed with column specification:</span></a>
<a class="sourceLine" id="cb8-12" data-line-number="12"><span class="co">#&gt; cols(</span></a>
<a class="sourceLine" id="cb8-13" data-line-number="13"><span class="co">#&gt;   fid = col_integer(),</span></a>
<a class="sourceLine" id="cb8-14" data-line-number="14"><span class="co">#&gt;   x = col_integer(),</span></a>
<a class="sourceLine" id="cb8-15" data-line-number="15"><span class="co">#&gt;   y = col_integer()</span></a>
<a class="sourceLine" id="cb8-16" data-line-number="16"><span class="co">#&gt; )</span></a></code></pre></div>
<p>The collection of datasets for the area of our interest can be obtained by the following code:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">myData &lt;-<span class="st"> </span><span class="kw"><a href="../reference/obtain.html">obtain</a></span>(<span class="dt">data =</span> myDatasets, <span class="dt">mask =</span> myMask)</a></code></pre></div>
<p>(output here not shown as it may download the datasets, if you do not have them yet)</p>
</div>
<div id="modify-raster-objects" class="section level2">
<h2 class="hasAnchor">
<a href="#modify-raster-objects" class="anchor"></a>Modify raster objects</h2>
<p>A typical modification algorithm determines patches of the foreground in a raster with continuous integer values:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">get_patches &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="kw">list</span>(<span class="dt">operator =</span> <span class="st">"rBinarise"</span>, <span class="dt">thresh =</span> <span class="dv">30</span>),</a>
<a class="sourceLine" id="cb10-2" data-line-number="2">                    <span class="kw">list</span>(<span class="dt">operator =</span> <span class="st">"rPatches"</span>))</a></code></pre></div>
<p>When using this algorithm in <code><a href="../reference/modify.html">modify()</a></code> while <code>sequential = TRUE</code> the binarised raster will be used to derive patches. The output of <code>rBinarise</code> will be passed to <code>rPatches</code>, which determines patches from the thresholded rasters values.</p>
<p>However, if you want to determine patches, but also derive categories from the original raster, you have to give each function in the algorithm a specific name. Functions which should be part of the same sub-algorithm have to have the same name:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">cc_cats &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">get_patches =</span> <span class="kw">list</span>(<span class="dt">operator =</span> <span class="st">"rBinarise"</span>, <span class="dt">thresh =</span> <span class="dv">30</span>),</a>
<a class="sourceLine" id="cb11-2" data-line-number="2">                <span class="dt">get_patches =</span> <span class="kw">list</span>(<span class="dt">operator =</span> <span class="st">"rPatches"</span>),</a>
<a class="sourceLine" id="cb11-3" data-line-number="3">                <span class="dt">get_categories =</span> <span class="kw">list</span>(<span class="dt">operator =</span> <span class="st">"rCategorise"</span>, <span class="dt">n =</span> <span class="dv">5</span>))</a></code></pre></div>
<p>In this case <code>sequential = TRUE</code> would be ignored globally, but applied locally for those functions that share the same name (also if it would be set to <code>FALSE</code> in the call).</p>
<p>The modifications would be carried out by:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">myInput &lt;-<span class="st"> </span>rtData<span class="op">$</span>continuous</a>
<a class="sourceLine" id="cb12-2" data-line-number="2">myPatches &lt;-<span class="st"> </span><span class="kw"><a href="../reference/modify.html">modify</a></span>(<span class="dt">input =</span> myInput, <span class="dt">by =</span> get_patches, <span class="dt">sequential =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb12-3" data-line-number="3"><span class="kw"><a href="../reference/visualise.html">visualise</a></span>(raster<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/stack">stack</a></span>(myInput, myPatches))</a></code></pre></div>
<p><img src="introduction_files/figure-html/unnamed-chunk-7-1.png" width="100%"></p>
</div>
<div id="measure-raster-objects" class="section level2">
<h2 class="hasAnchor">
<a href="#measure-raster-objects" class="anchor"></a>Measure raster objects</h2>
<p>Landscape metrics are another case of algorithms in <code>rasterTools</code>. We distinguish between <em>generic</em> and <em>derived</em> landscape metrics. To evaluate a generic metric typically just the respective operator with its arguments needs to be given:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">myInput &lt;-<span class="st"> </span>rtData<span class="op">$</span>categorical</a>
<a class="sourceLine" id="cb13-2" data-line-number="2">myMetrics &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">a_c =</span> <span class="kw">list</span>(<span class="dt">operator =</span> <span class="st">"mArea"</span>, <span class="dt">scale =</span> <span class="st">"class"</span>),</a>
<a class="sourceLine" id="cb13-3" data-line-number="3">                  <span class="dt">a_l =</span> <span class="kw">list</span>(<span class="dt">operator =</span> <span class="st">"mArea"</span>, <span class="dt">scale =</span> <span class="st">"landscape"</span>))</a>
<a class="sourceLine" id="cb13-4" data-line-number="4"><span class="kw"><a href="../reference/measure.html">measure</a></span>(<span class="dt">input =</span> myInput, <span class="dt">with =</span> myMetrics)</a>
<a class="sourceLine" id="cb13-5" data-line-number="5"><span class="co">#&gt; $a_c</span></a>
<a class="sourceLine" id="cb13-6" data-line-number="6"><span class="co">#&gt;   class result</span></a>
<a class="sourceLine" id="cb13-7" data-line-number="7"><span class="co">#&gt; 1     1     37</span></a>
<a class="sourceLine" id="cb13-8" data-line-number="8"><span class="co">#&gt; 2    11    104</span></a>
<a class="sourceLine" id="cb13-9" data-line-number="9"><span class="co">#&gt; 3    21    209</span></a>
<a class="sourceLine" id="cb13-10" data-line-number="10"><span class="co">#&gt; 4    24    914</span></a>
<a class="sourceLine" id="cb13-11" data-line-number="11"><span class="co">#&gt; 5    27    466</span></a>
<a class="sourceLine" id="cb13-12" data-line-number="12"><span class="co">#&gt; 6    31     72</span></a>
<a class="sourceLine" id="cb13-13" data-line-number="13"><span class="co">#&gt; 7    41    561</span></a>
<a class="sourceLine" id="cb13-14" data-line-number="14"><span class="co">#&gt; 8    44    453</span></a>
<a class="sourceLine" id="cb13-15" data-line-number="15"><span class="co">#&gt; 9    47    544</span></a>
<a class="sourceLine" id="cb13-16" data-line-number="16"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb13-17" data-line-number="17"><span class="co">#&gt; $a_l</span></a>
<a class="sourceLine" id="cb13-18" data-line-number="18"><span class="co">#&gt;   landscape result</span></a>
<a class="sourceLine" id="cb13-19" data-line-number="19"><span class="co">#&gt; 1         1   3360</span></a></code></pre></div>
<p>The so defined <em>terms</em> are the basis for derived metrics. Such a metric is defined simply by its mathematical equation, for example the <em>Class proportional area</em> is the class areas divided by the landscape area:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">myMetric &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">a_l =</span> <span class="kw">list</span>(<span class="dt">operator =</span> <span class="st">"mArea"</span>, <span class="dt">scale =</span> <span class="st">"landscape"</span>),</a>
<a class="sourceLine" id="cb14-2" data-line-number="2">                 <span class="dt">a_c =</span> <span class="kw">list</span>(<span class="dt">operator =</span> <span class="st">"mArea"</span>, <span class="dt">scale =</span> <span class="st">"class"</span>),</a>
<a class="sourceLine" id="cb14-3" data-line-number="3">                 <span class="dt">mCPA =</span> <span class="st">"a_c / a_l * 100"</span>)</a></code></pre></div>
<p>Several derived metrics can be defined in one algorithm, given the required terms are defined:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1">myMetrics &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">a_p =</span> <span class="kw">list</span>(<span class="dt">operator =</span> <span class="st">"mArea"</span>, <span class="dt">scale =</span> <span class="st">"patch"</span>),</a>
<a class="sourceLine" id="cb15-2" data-line-number="2">                  <span class="dt">a_c =</span> <span class="kw">list</span>(<span class="dt">operator =</span> <span class="st">"mArea"</span>, <span class="dt">scale =</span> <span class="st">"class"</span>),</a>
<a class="sourceLine" id="cb15-3" data-line-number="3">                  <span class="dt">a_l =</span> <span class="kw">list</span>(<span class="dt">operator =</span> <span class="st">"mArea"</span>, <span class="dt">scale =</span> <span class="st">"landscape"</span>),</a>
<a class="sourceLine" id="cb15-4" data-line-number="4">                  <span class="dt">mCPA =</span> <span class="st">"a_c / a_l * 100"</span>,</a>
<a class="sourceLine" id="cb15-5" data-line-number="5">                  <span class="dt">mLPI =</span> <span class="st">"max(a_p) / a_l * 100"</span>)</a></code></pre></div>
<p>The generic metrics <code><a href="../reference/mNumber.html">mNumber()</a></code>, <code><a href="../reference/mPerimeter.html">mPerimeter()</a></code>, <code><a href="../reference/mArea.html">mArea()</a></code>, <code><a href="../reference/mAdjacency.html">mAdjacency()</a></code> and <code><a href="../reference/mValues.html">mValues()</a></code> are available. Equations for the derived metrics can be found in the <a href="articles/landscape_metrics.html">landscape metrics</a> vignette (and with increasing version numbers more of them, for example the <em>largest patch index</em> <code>mLPI</code> or the <em>percentage of like adjacencies</em> <code>mPLA</code>). It becomes apparent that also new, possibly improved landscapes metrics can be easily prototyped and tested in this framework.</p>
<p>Finally, the measurement of the <em>class proportional area</em> and the <em>largest patch index</em>, in a raster where patches have been determined, would be carried out by:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="kw"><a href="../reference/measure.html">measure</a></span>(<span class="dt">input =</span> myInput, <span class="dt">with =</span> myMetrics)</a>
<a class="sourceLine" id="cb16-2" data-line-number="2"><span class="co">#&gt; [[1]]</span></a>
<a class="sourceLine" id="cb16-3" data-line-number="3"><span class="co">#&gt;   class  mCPA</span></a>
<a class="sourceLine" id="cb16-4" data-line-number="4"><span class="co">#&gt; 1     1  1.10</span></a>
<a class="sourceLine" id="cb16-5" data-line-number="5"><span class="co">#&gt; 2    11  3.10</span></a>
<a class="sourceLine" id="cb16-6" data-line-number="6"><span class="co">#&gt; 3    21  6.22</span></a>
<a class="sourceLine" id="cb16-7" data-line-number="7"><span class="co">#&gt; 4    24 27.20</span></a>
<a class="sourceLine" id="cb16-8" data-line-number="8"><span class="co">#&gt; 5    27 13.87</span></a>
<a class="sourceLine" id="cb16-9" data-line-number="9"><span class="co">#&gt; 6    31  2.14</span></a>
<a class="sourceLine" id="cb16-10" data-line-number="10"><span class="co">#&gt; 7    41 16.70</span></a>
<a class="sourceLine" id="cb16-11" data-line-number="11"><span class="co">#&gt; 8    44 13.48</span></a>
<a class="sourceLine" id="cb16-12" data-line-number="12"><span class="co">#&gt; 9    47 16.19</span></a>
<a class="sourceLine" id="cb16-13" data-line-number="13"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb16-14" data-line-number="14"><span class="co">#&gt; [[2]]</span></a>
<a class="sourceLine" id="cb16-15" data-line-number="15"><span class="co">#&gt;   landscape  mLPI</span></a>
<a class="sourceLine" id="cb16-16" data-line-number="16"><span class="co">#&gt; 1         1 24.88</span></a></code></pre></div>
</div>
</div>
<div id="acknowledgements" class="section level1">
<h1 class="hasAnchor">
<a href="#acknowledgements" class="anchor"></a>Acknowledgements</h1>
<p>I am grateful for financial support from the PROFOUND Cost-action, which gave me the opportunity to work in a concentrated effort a large part of the functionality. This package has been developed in support of the <a href="https://www.researchgate.net/project/Do-small-mammals-think-big-The-multiscale-ecology-of-small-mammals-and-their-functional-role-for-Borrelia-burgdorferi-FunBo">FunBo Project</a>, which was made possible by the Grünewald-Zuberbier Scholarship handed out by the University of Freiburg.</p>
<p>Thanks are also due to Prof. Arne Pommerening who was a great source of inspiration for what <code>rasterTools</code> is now.</p>
</div>
<div id="references" class="section level1 unnumbered">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
<div id="refs" class="references">
<div id="ref-bush_connecting_2017">
<p>Bush, Alex, Rahel Sollmann, Andreas Wilting, Kristine Bohmann, Beth Cole, Heiko Balzter, Christopher Martius, et al. 2017. “Connecting Earth Observation to High-Throughput Biodiversity Data.” <em>Nature Ecology &amp; Evolution</em> 1 (7): 0176. <a href="https://doi.org/10.1038/s41559-017-0176">https://doi.org/10.1038/s41559-017-0176</a>.</p>
</div>
<div id="ref-hijmans_raster_2017">
<p>Hijmans, Robert J. 2017. <em>Raster: Geographic Data Analysis and Modeling</em>. <a href="https://CRAN.R-project.org/package=raster">https://CRAN.R-project.org/package=raster</a>.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#introduction">Introduction</a><ul class="nav nav-pills nav-stacked">
<li><a href="#a-new-spatial-class-geom">A new (spatial) class: <code>geom</code></a></li>
      </ul>
</li>
      <li>
<a href="#example-workflow">Example workflow</a><ul class="nav nav-pills nav-stacked">
<li><a href="#generate-spatial-patterns">Generate spatial patterns</a></li>
      <li><a href="#obtain-spatial-datasets">Obtain spatial datasets</a></li>
      <li><a href="#modify-raster-objects">Modify raster objects</a></li>
      <li><a href="#measure-raster-objects">Measure raster objects</a></li>
      </ul>
</li>
      <li><a href="#acknowledgements">Acknowledgements</a></li>
      <li><a href="#references">References</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://orcid.org/0000-0002-2958-0796">Steffen Ehrmann</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
