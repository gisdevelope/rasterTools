<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction • rasterTools</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rasterTools</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.8.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/introduction.html">Terminology and Concepts</a>
    </li>
    <li>
      <a href="../articles/contribute.html">Best practices to contribute</a>
    </li>
    <li>
      <a href="../articles/landscape_metrics.html">Landscape metrics</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Glossary
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="far fa far fa-list-alt"></span>
     
    Use cases
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">coming soon</li>
  </ul>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    News
  </a>
</li>
<li>
  <a href="https://github.com/EhrmannS/rastertools">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Introduction</h1>
                        <h4 class="author">Steffen Ehrmann</h4>
            
            <h4 class="date">2018-07-16</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/EhrmannS/rastertools/blob/master/vignettes/introduction.Rmd"><code>vignettes/introduction.Rmd</code></a></small>
      <div class="hidden name"><code>introduction.Rmd</code></div>

    </div>

    
    
<div id="definitions" class="section level1">
<h1 class="hasAnchor">
<a href="#definitions" class="anchor"></a>Definitions</h1>
<p>An <em>algorithm</em> in <code>rasterTools</code> is given as list of lists.</p>
<pre><code>algo_name &lt;- list(list(operator1,
                  list(operator2)))
                  </code></pre>
<p>They are a sequence of <em>operators</em>, i.e. functions and their respective arguments, which act together to carry out some sort of computation. They are scope specific, i.e. they are typically only called in their respective core function. Each operator represents a <code>do.call()</code> compliant definition (type <code>?do.call</code> into the console to learn about it).</p>
<pre><code>do.call(what, args, quote = FALSE, envir = parent.frame())</code></pre>
<p>Which translates to</p>
<pre><code>algo_name &lt;- list(operator1 = list(what, args),
                  operator2 = list(what, args))</code></pre>
<p>Its first elements <code>what = operator_name</code> would outline the functions comprised in this algorithm (such as <code>nlmHeightmap</code> or <code>oCLC</code>). Its second element can have any number of arguments required to put together the call (such as <code>fracdim = 2.3, seed = 4815162342</code> or <code>period = 2006</code>).</p>
<pre><code>datasets &lt;- list(list(operator = "oCLC", period = 2006),
                 list(operator = "oGFC", period = c(2005:2007)))</code></pre>
<p>This modularity is one of the strong sides of <code>rasterTools</code>. It allows the user to write their own operator to be used in the respective core-function. An example would be to build a novel neutral landscape model, to utilize a modification which is not yet included in this package or to develop new landscape metrics. All of this can easily and seamlessly be combined with the previously defined operators in the same, simple work-flow.</p>
<div id="generate-spatial-patterns" class="section level2">
<h2 class="hasAnchor">
<a href="#generate-spatial-patterns" class="anchor"></a>Generate spatial patterns</h2>
<p>To build a neutral landscape model, or possibly other spatial data patterns which are based on some sort of simulated process (and are therefore not neutral but perhaps ‘virtual’), an algorithm may be:</p>
<pre><code>anNLM &lt;- list(list(operator = "bHeightmap", fracdim = 2.3))</code></pre>
<p>and it would be called by:</p>
<pre><code>myNLM &lt;- generate(build = myNLM, dimensions = c(400, 500))</code></pre>
<p>The so created spatial dataset can either be utilized directly or could be put through a pipeline of modification algorithms (see below).</p>
</div>
<div id="obtain-spatial-datasets" class="section level2">
<h2 class="hasAnchor">
<a href="#obtain-spatial-datasets" class="anchor"></a>Obtain spatial datasets</h2>
<p>An algorithm with which one would obtain information from various spatial data sets could be:</p>
<pre><code>myDatasets &lt;- list(list(operator = "oCLC", period = 2006),
                   list(operator = "oGFC", period = c(2005:2007)),
                   list(operator = "oMODIS", product = "mod17a3", period = 2006,
                        layer = 2))</code></pre>
<p>Most of the different spatial datasets are available in a specific file format or may have other specific properties, which require consideration. For instance, MODIS data are stored as products with several layers within each file. Consequently the <code>product</code> and <code>layer</code> need to be specified. Each of the required arguments can be found in the respective documentation, for instance with <code><a href="../reference/oMODIS.html">?oMODIS</a></code>.</p>
<p>This collection of datasets can be obtained by:</p>
<pre><code>myData &lt;- obtain(data = myDatasets, mask = anyMask)</code></pre>
</div>
<div id="modify-gridded-objects" class="section level2">
<h2 class="hasAnchor">
<a href="#modify-gridded-objects" class="anchor"></a>Modify gridded objects</h2>
<p>A typical modification algorithm determines patches of the foreground in a raster with continuous integer values:</p>
<pre><code>get_patches &lt;- list(list(operator = "rBinarise", thresh = 30),
                    list(operator = "rPatches"))</code></pre>
<p>When using this algorithm in <code><a href="../reference/modify.html">modify()</a></code> while <code>sequential = TRUE</code> the binarised raster will be used to derive patches. The output of <code>rBinarise</code> will be passed to <code>rPatches</code>, which determines patches from the thresholded rasters values.</p>
<p>However, if you want to determine patches, but also derive categories from the original raster, you have to give each function in the algorithm a specific name. Functions which should be part of the same sub-algorithm have to have the same name:</p>
<pre><code>cc_cats &lt;- list(get_patches = list(operator = "rBinarise", thresh = 30),
                get_patches = list(operator = "rPatches"),
                get_categories = list(operator = "rCategorise", n = 5))</code></pre>
<p>In this case <code>sequential = TRUE</code> would be ignored globally, but applied locally for those functions that share the same name (also if it would be set to <code>FALSE</code> in the call).</p>
<p>The modifications would be carried out by:</p>
<pre><code>myModifiedData &lt;- modify(input = myData$gfc, by = get_patches, sequential = TRUE)</code></pre>
</div>
<div id="measure-gridded-objects" class="section level2">
<h2 class="hasAnchor">
<a href="#measure-gridded-objects" class="anchor"></a>Measure gridded objects</h2>
<p>Landscape metrics are another case of algorithms in <code>rasterTools</code>. We distinguish between <em>generic</em> and <em>derived</em> landscape metrics. A generic metric typically consists of just one function with its respective arguments:</p>
<pre><code>patches_area &lt;- list(operator = "mArea", scale = "patch")</code></pre>
<p>A derived metric is any combination of generic and derived metrics. Each metric to be combined in a derived metric needs to be assigned to a specific name that would be referred to in a final element, called <code>equation</code>:</p>
<pre><code>mPropArea &lt;- list(a_w = list(operator = "mArea", scale = "window"),
                  a_c = list(operator = "mArea", scale = "class"),
                  equation = "a_c / a_w * 100")</code></pre>
<p>The most important generic metrics are already predefined and so are some of the derived metrics. By combining all of those and by applying the respective mathematical formulae all other known landscape metrics can be reproduced. It becomes apparent that also new, possibly improved landscapes metrics can be easily prototyped and tested in this framework.</p>
<p>The measurement of the features in a raster would be carried out by:</p>
<pre><code>propAreaForest &lt;- measure(input = myModifiedData, with = mPropArea)</code></pre>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#definitions">Definitions</a><ul class="nav nav-pills nav-stacked">
<li><a href="#generate-spatial-patterns">Generate spatial patterns</a></li>
      <li><a href="#obtain-spatial-datasets">Obtain spatial datasets</a></li>
      <li><a href="#modify-gridded-objects">Modify gridded objects</a></li>
      <li><a href="#measure-gridded-objects">Measure gridded objects</a></li>
      </ul>
</li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://orcid.org/0000-0002-2958-0796">Steffen Ehrmann</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
